---
/*  Nada que declarar en el front-matter  */
---
<article
  id="storytellingBlock"
  class="w-full min-h-screen flex flex-col md:flex-row items-center justify-center
         px-4 sm:px-6 md:px-8 py-8 md:py-12
         opacity-0 translate-y-8 transition-all duration-700 ease-out"
>
  <!-- Textos a la izquierda -->
  <div
    class="flex-1 flex flex-col justify-center items-start max-w-4xl w-full mx-auto
           md:pl-8 lg:pl-38 md:pr-8"
  >
    <h1
      class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-cyan-950
             text-left mb-4 md:mb-5 relative z-10"
    >
      ¿Por qué viajar a Búzios puede ser un
      <span class="underline-offset-4 underline text-cyan-700">
        dolor de cabeza
      </span>
      si no lo haces correctamente?
    </h1>

    <ul
      class="text-cyan-950 space-y-2 mb-4 md:mb-6 list-none text-sm sm:text-base
             md:text-lg lg:text-xl custom-checkmarks"
    >
      <li>✓ No sabes cómo llegar desde Río</li>
      <li>✓ Te cobran pasajes o viajes con sobreprecio</li>
      <li>✓ Terminas eligiendo una posada sin referencia</li>
      <li>✓ Te venden excursiones armadas y caras</li>
    </ul>

    <p class="text-cyan-950 text-left mb-1 text-sm sm:text-base md:text-lg lg:text-xl font-medium">
      Nosotros ya lo vivimos.
    </p>
    <p class="text-cyan-950 text-left mb-1 text-sm sm:text-base md:text-lg lg:text-xl font-medium">
      Por eso creamos <span class="font-bold">Alkimia Travel</span>
    </p>
    <p class="text-cyan-950 text-left text-sm sm:text-base md:text-lg lg:text-xl font-medium">
      Planificamos de la mejor manera tu viaje y tus vacaciones
    </p>
  </div>

  <!-- Imagen a la derecha -->
  <div
    class="flex-1 flex justify-center items-center w-full mt-6 md:mt-5 md:pr-8
           lg:pr-25 md:pl-8"
  >
    <div
      class="w-auto h-auto p-1 rounded-1xl bg-gradient-to-b from-amber-300 via-amber-400
             to-amber-500 rounded-xl shadow-xl hover:scale-105 transition-all duration-300"
    >
      <img
        id="storytellingImage"
        src="https://i.ibb.co/S7rhyZGM/IMG-0061.jpg"
        alt="Storytelling 1"
        class="w-[550px] max-w-sm sm:max-w-md md:max-w-xl lg:max-w-2xl h-auto
               rounded-xl shadow-xl object-cover opacity-0 transition-opacity duration-500"
      />
    </div>
  </div>
</article>

<style>
  @keyframes typing {
    from { width: 0; }
    to   { width: 100%; }
  }
  .animate-typing {
    animation: typing 3.5s steps(40, end);
  }
</style>

<script>
  // 1. Fade-in de la imagen al terminar de cargar (lo que ya tenías)
  const img = document.getElementById('storytellingImage');
  if (img instanceof HTMLImageElement) {
    const preload = new Image();
    preload.src = img.src;
    preload.onload = () => {
      img.classList.remove('opacity-0');
      img.classList.add('opacity-100');
    };
  }

  // 2. Animación de aparición on-scroll para el bloque completo
  const block = document.getElementById('storytellingBlock');
  if (block) {
    const observer = new IntersectionObserver(
      ([entry], obs) => {
        if (entry.isIntersecting) {
          block.classList.remove('opacity-0', 'translate-y-8');
          block.classList.add('opacity-100', 'translate-y-0');
          obs.unobserve(block);            // dispara solo la primera vez
        }
      },
      { threshold: 0.3 }                   // 30 % visible
    );
    observer.observe(block);
  }
</script>
