---
import auto from '../assets/auto.png';
import avion from '../assets/avion.png';
import casa from '../assets/casa.png';

const steps = [
  {
    title: 'Conseguí tu paquete de vuelo al mejor precio',
    text: 'Te ofrecemos las mejores opciones de vuelo del mercado, al mejor precio y con atención 100% personalizada para vos y tu familia.',
    image: avion
  },
  {
    title: '¡Te buscamos en la puerta del aeropuerto!',
    text: 'Nuestro servicio de transfer te espera apenas aterrices. Sin preocupaciones, solo relájate y empezá a disfrutar.',
    image: auto
  },
  {
    title: 'Te dejamos en tu posada, la que elegiste!',
    text: 'Seleccioná entre una amplia variedad de posadas. Nosotros nos encargamos del resto para que vivas una experiencia única.',
    image: casa
  }
];
---

<!-- Encabezado -->
<section class="relative py-16 px-4 max-w-6xl mx-auto text-center">
  <h2 class="text-3xl md:text-5xl font-extrabold text-cyan-900 mb-4" data-aos="fade-down">
    Tu viaje, paso a paso
  </h2>
  <p class="text-lg text-gray-600 max-w-2xl mx-auto" data-aos="fade-up">
    Planificamos todo para que vos solo disfrutes. Desde el vuelo hasta tu posada soñada.
  </p>
</section>

<!-- Línea de tiempo con SVG -->
<section class="relative flex flex-col items-center px-4 py-8 max-w-6xl mx-auto">

  <!-- Línea SVG animada (centrada, sólo visible en md+) -->
  <svg
    class="hidden md:block absolute left-1/2 transform -translate-x-1/2 top-0 h-full z-0"
    width="4"
    height="100%"
    viewBox="0 0 4 1000"
    preserveAspectRatio="none"
  >
    <path
      d="M2 0 V1000"
      stroke="#0e7490"
      stroke-width="4"
      stroke-linecap="round"
      stroke-dasharray="12 12"
    >
      <animate
        attributeName="stroke-dashoffset"
        from="0"
        to="24"
        dur="2s"
        repeatCount="indefinite"
      />
    </path>
  </svg>

  {steps.map((step, index) => (
    <div
      class={`relative z-10 flex flex-col md:flex-row items-center gap-8 my-12 w-full ${
        index % 2 !== 0 ? 'md:flex-row-reverse' : ''
      }`}
      data-aos="fade-up"
      data-aos-delay={index * 150}
    >
      <!-- Imagen -->
      <div class="w-full md:w-1/2 flex justify-center">
        <img src={step.image.src} alt="Imagen del paso" class="max-w-[250px] md:max-w-sm drop-shadow-xl" />
      </div>

      <!-- Tarjeta de texto -->
      <div class="w-full md:w-1/2 bg-white rounded-2xl shadow-2xl p-6 md:p-8 text-left border border-gray-200">
        <h3 class="text-2xl font-semibold text-cyan-900 mb-3">{step.title}</h3>
        <p class="text-gray-700 leading-relaxed text-base md:text-lg">{step.text}</p>
      </div>
    </div>
  ))}
</section>

<!-- Script AOS -->
<script>
  import AOS from 'aos';
  AOS.init({
    duration: 800,
    easing: 'ease-in-out',
    once: true
  });
</script>
